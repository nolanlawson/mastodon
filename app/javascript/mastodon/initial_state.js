const element = typeof document !== 'undefined' && document.getElementById('initial-state');
let initialState = element && JSON.parse(element.textContent);

const getMeta = (prop) => initialState && initialState.meta && initialState.meta[prop];

export const reduceMotion = getMeta('reduce_motion');
export const autoPlayGif = getMeta('auto_play_gif');

if (typeof document === 'undefined') {
  initialState = {"meta":{"streaming_api_base_url":"wss://malfunctioning.technology","access_token":"32176ac2282c9b29c0d77793cee34157e33cde890ec28cb4dd4d942bb2da33db","locale":"en","domain":"malfunctioning.technology","admin":"1","me":"1","unfollow_modal":false,"boost_modal":true,"delete_modal":true,"auto_play_gif":true,"reduce_motion":false},"compose":{"me":"1","default_privacy":"public","default_sensitive":false},"accounts":{"1":{"id":"1","username":"nolan","acct":"nolan","display_name":"Nolan (malf.tech)","locked":false,"created_at":"2017-05-14T18:03:47.722Z","note":"\u003cp\u003eMalfunctioning version of \u003ca href=\"https://toot.cafe/@nolan\" rel=\"nofollow noopener\" target=\"_blank\"\u003e\u003cspan class=\"invisible\"\u003ehttps://\u003c/span\u003e\u003cspan class=\"\"\u003etoot.cafe/@nolan\u003c/span\u003e\u003cspan class=\"invisible\"\u003e\u003c/span\u003e\u003c/a\u003e\u003c/p\u003e","url":"https://malfunctioning.technology/@nolan","avatar":"https://malfunctioning.technology/system/accounts/avatars/000/000/001/original/4601381ba10b9ed6.png","avatar_static":"https://malfunctioning.technology/system/accounts/avatars/000/000/001/original/4601381ba10b9ed6.png","header":"https://malfunctioning.technology/headers/original/missing.png","header_static":"https://malfunctioning.technology/headers/original/missing.png","followers_count":36,"following_count":28,"statuses_count":142}},"media_attachments":{"accept_content_types":[".jpg",".jpeg",".png",".gif",".webm",".mp4",".m4v","image/jpeg","image/png","image/gif","video/webm","video/mp4"]},"settings":{"frequentlyUsedEmojis":{"ogmo":2,"netscape":1,"firefox_nightly":1,"servo":1,"ie":1,"confused":1},"onboarded":true,"notifications":{"alerts":{"follow":true,"favourite":true,"reblog":true,"mention":true},"shows":{"follow":true,"favourite":true,"reblog":true,"mention":true},"sounds":{"follow":false,"favourite":false,"reblog":false,"mention":false}},"public":{"regex":{"body":""}},"community":{"regex":{"body":""}},"skinTone":1,"columns":[{"id":"COMPOSE","uuid":"91875c85-c845-4aac-8b7d-4216222baa64","params":{}},{"id":"HOME","uuid":"a7feae2b-f6f6-474f-9127-80f5b7ca5b6c","params":{}},{"id":"NOTIFICATIONS","uuid":"38154233-97da-4c10-a752-71d6da65fb39","params":{}}],"home":{"shows":{"reblog":true,"reply":true},"regex":{"body":""}}},"push_subscription":null,"custom_emojis":[{"shortcode":"ogmo","url":"https://malfunctioning.technology/system/custom_emojis/images/000/000/021/original/ogmo.png","static_url":"https://malfunctioning.technology/system/custom_emojis/images/000/000/021/static/ogmo.png"},{"shortcode":"firefox_nightly","url":"https://malfunctioning.technology/system/custom_emojis/images/000/000/045/original/mozicon128.png","static_url":"https://malfunctioning.technology/system/custom_emojis/images/000/000/045/static/mozicon128.png"},{"shortcode":"firefox","url":"https://malfunctioning.technology/system/custom_emojis/images/000/000/047/original/guidelines-logo.7ea045a4e288.png","static_url":"https://malfunctioning.technology/system/custom_emojis/images/000/000/047/static/guidelines-logo.7ea045a4e288.png"},{"shortcode":"chrome","url":"https://malfunctioning.technology/system/custom_emojis/images/000/000/048/original/Google_Chrome_logo_icon.png","static_url":"https://malfunctioning.technology/system/custom_emojis/images/000/000/048/static/Google_Chrome_logo_icon.png"},{"shortcode":"safari","url":"https://malfunctioning.technology/system/custom_emojis/images/000/000/106/original/safari_128x128.png","static_url":"https://malfunctioning.technology/system/custom_emojis/images/000/000/106/static/safari_128x128.png"},{"shortcode":"netscape","url":"https://malfunctioning.technology/system/custom_emojis/images/000/000/107/original/netscape-logo-8586293D8B-seeklogo.com.png","static_url":"https://malfunctioning.technology/system/custom_emojis/images/000/000/107/static/netscape-logo-8586293D8B-seeklogo.com.png"},{"shortcode":"servo","url":"https://malfunctioning.technology/system/custom_emojis/images/000/000/109/original/browser.html_128x128.png","static_url":"https://malfunctioning.technology/system/custom_emojis/images/000/000/109/static/browser.html_128x128.png"},{"shortcode":"ie","url":"https://malfunctioning.technology/system/custom_emojis/images/000/000/111/original/Internet_Explorer_6_logo.png","static_url":"https://malfunctioning.technology/system/custom_emojis/images/000/000/111/static/Internet_Explorer_6_logo.png"},{"shortcode":"edge","url":"https://malfunctioning.technology/system/custom_emojis/images/000/000/049/original/Microsoft_Edge_logo.svg.png","static_url":"https://malfunctioning.technology/system/custom_emojis/images/000/000/049/static/Microsoft_Edge_logo.svg.png"},{"shortcode":"mozilla","url":"https://malfunctioning.technology/system/custom_emojis/images/000/000/110/original/Mozilla-Developer-Network-MDN.png","static_url":"https://malfunctioning.technology/system/custom_emojis/images/000/000/110/static/Mozilla-Developer-Network-MDN.png"}]};
}

export default initialState;
